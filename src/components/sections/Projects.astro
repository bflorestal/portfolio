---
import { Image } from "astro:assets";
import { getCollection } from "astro:content";

// const allProjects = await getCollection("projects", ({ data }) => data.priority > 0);
const allProjects = await getCollection("projects");
// voir pour trier par date
---

<section
  id="projects"
  class="mx-auto flex w-full max-w-5xl flex-col items-start justify-center py-14 lg:items-center lg:py-24"
>
  <h2 class="mb-8 text-3xl font-semibold">Mes projets</h2>
  <div class="grid grid-cols-1 gap-x-4 gap-y-6 md:grid-cols-2 lg:grid-cols-3">
    {
      allProjects.map((project) => (
        <article class="group cursor-pointer bg-slate-800 shadow-md transition-all hover:-translate-y-2">
          <div class="transition-all group-hover:brightness-75">
            <Image
              src={project.data.image}
              alt={project.data.name}
              width={640}
              height={360}
            />
          </div>
          <div class="px-4 py-2">
            <h3 class="text-lg font-semibold">{project.data.name}</h3>
          </div>
        </article>
      ))
    }
  </div>
</section>
