---
import Icon from "astro-icon";

export interface Props {
  rating: number;
}

const { rating } = Astro.props;

const stars = Array.from({ length: 5 }, (_, i) => {
  const starRating = i + 1;
  const isFilled = starRating <= rating;
  const isHalfFilled = !isFilled && starRating - rating === 0.5;

  return isFilled ? "bi:star-fill" : isHalfFilled ? "bi:star-half" : "bi:star";
});
---

<div class="flex gap-x-1">
  {stars.map((star) => <Icon name={star} class="h-4 w-4" />)}
</div>
